<!DOCTYPE html>
<html lang="en">
<head>
        <title>The Kepler-Bouwkamp Constant</title>
        <meta charset="utf-8" />
        <link rel="icon" type="image/png" href="./theme/images/fire.png">
        <link rel="stylesheet" href="./theme/css/main.css" type="text/css" />
        <link href="./feed.rss" type="application/rss+xml" rel="alternate" title="machine burning RSS Feed" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="./css/ie.css"/>
                <script src="./js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="./css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <div class="social">
				    <a href="./feed.rss" rel="alternate">
					    <span></span>
				    </a>

				    <a href="https://github.com/brunoro">
					    <span></span>
				    </a>
				    <a href="https://twitter.com/elbeise">
					    <span></span>
				    </a>
				    <a href="https://beise.bandcamp.com/">
					    <span></span>
				    </a>
				    <a href="https://mixcloud.com/beise">
					    <span></span>
				    </a>
                </div>
                <div>
                  <a href=".">
                    <img id="title-logo" src="./theme/images/fire.png"/>
                    <span id="title0">machine burning</span>
                    <!-- <span id="title1">machine burning</span>
                    <span id="title2">machine burning</span> -->
</a></h1>
                </ul></nav>
        </header><!-- /#banner -->
        
<section id="content" class="body">    
<article>
        <header> <h1 class="entry-title"><a href=""
        rel="bookmark" title="Permalink to The Kepler-Bouwkamp Constant">The Kepler-Bouwkamp Constant</a></h1>  </header>
<div class="post-info">
        <abbr class="published" title="2013-10-14T00:00:00-03:00">
                2013-10-14
        </abbr>

<p>in <a href="./category/misc.html">misc</a>. </p>
<p>tags: <a href="./tag/clojure.html">clojure</a><a href="./tag/quil.html">quil</a><a href="./tag/math.html">math</a></p></div><!-- /.post-info -->        <div class="entry-content">
        <p>Follow this construction: draw a circle and inscribe a triangle inside it; inscribe a circle inside
this triangle and repeat the process, now inscribing a square. Continue this steps using pentagons,
hexagons, heptagons, etc.
The ratio between the radius of the outer circle and the inner limit circle is called the
<a href="http://en.wikipedia.org/wiki/Kepler%E2%80%93Bouwkamp_constant">Kepler-Bouwkamp constant</a>.</p>
<p>As described by Adrian R. Kitson's paper <a href="http://arxiv.org/abs/math/0608186">The prime analog of the Kepler-Bouwkamp constant</a>,
that same steps can be done using other sequences, including that of prime numbers. 
On that article, Adrian derives the value of the constant, but doesn't include any image of the 
the construction that'd result from the process. </p>
<p><img alt="The prime Kepler-Bouwkamp constant" src="img/prime-kepler-bouwkamp.png" /></p>
<p>I really like those kind of constructions, so I implemented it using <a href="https://github.com/quil/quil">Quil</a>
to get an idea how it looks. Here comes the code:</p>
<div class="gist">
    <script src='https://gist.github.com/6984849.js'></script>
    <noscript>
        <pre><code>(ns kepler-bouwkamp.core
  (:use quil.core))

(def tau 6.283185307179586)

(defn circle [cx cy r]
  "Draws a circle centered at (cx, cy) with radius r."
  (let 
    [d (* r 2)]
    (ellipse cx cy d d)))

(defn pivot [px py ox oy angle]
  "Pivots (px, py) by angle using (ox, oy) as an axis."
  (if (zero? angle)
    [px py]
    (let [nx  (- px ox)
          ny  (- py oy)
          sin (Math/sin angle)
          cos (Math/cos angle)]
      [(+ ox (- (* nx cos) (* ny sin)))
       (+ oy (+ (* nx sin) (* ny cos)))])))

(defn polygon [cx cy radius sides]
  "Draws a polygon centered at (cx, cy) with the 
   given radius and number of sides."
  (let [angle (/ tau sides)
        ox    (+ cx radius)]
    (doseq 
      [i (range sides)]
      (let
        [[sx sy] (pivot ox cy cx cy (* i angle))
         [ex ey] (pivot ox cy cx cy (* (inc i) angle)]
        (line sx sy ex ey)))))

(defn ins-radius [radius sides] 
  "Returns the inscribed radius of a polygon with
   a given radius and number of sides."
  (* radius (Math/cos (/ (/ tau 2) sides))))

(defn circle-inscribe-polygon [cx cy rad sides]
  "Draws a circle and the inscribed polygon with the given number
   of sides, centered at (cx, cy) and with radius rad."
  (let 
    [ins (ins-radius rad sides)]
    (circle cx cy rad)
    (polygon cx cy rad sides)
    ins))

(defn setup []
  (smooth)
  (frame-rate 1)
  (background 255))

(defn draw []
  (stroke 0)
  (stroke-weight 1)
  (let [cx  (/ (width) 2) 
        cy  (/ (height) 2)
        rad (- (min cx cy) 10)] ; add some padding to the radius
    (reduce #(circle-inscribe-polygon cx cy %1 %2) rad 
      [3 5 7 11 13 17 19 23 27 31]))) ; the sequence will converge before that

(defn -main []
  (sketch 
    :title "Kepler-Bouwkamp constant"
    :setup setup
    :draw draw
    :size [600 600]))</code></pre>
    </noscript>
</div>
        </div><!-- /.entry-content -->

</article>
</section>
        <section id="extras" class="body">
       </section><!-- /#extras -->

        <footer id="about" class="body">
            <p>Powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>; theme based on <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a></p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-32411032-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>
</body>
</html>